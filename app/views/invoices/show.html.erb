<div class="container py-4">

  <!-- Invoice Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="display-6 mb-0">Invoice #<%= @invoice.id %></h1>
    <small class="text-muted"><%= @invoice.created_at.strftime("%B %d, %Y at %I:%M %p") %></small>
  </div>

  <hr>

  <!-- Line Items Card -->
  <div class="card shadow-sm rounded-4 mb-4">
    <div class="card-body">
      <h5 class="card-title mb-3">Line Items</h5>

      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th>Product</th>
              <th>Price (₦)</th>
              <th>Quantity</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <% @invoice.line_items.each do |item| %>
              <tr>
                <td>
                  <span class="fw-semibold"><%= item.product.name %></span>
                </td>
                <td>₦<%= number_with_precision(item.price, precision: 2, delimiter: ",") %></td>
                <td><span class="badge bg-secondary"><%= item.quantity %></span></td>
                <td>₦<%= number_with_precision(item.price * item.quantity, precision: 2, delimiter: ",") %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Total Summary -->
  <div class="text-end mb-4">
    <h5 class="fw-bold">Total Amount:</h5>
    <h4 class="text-primary">₦<%= number_with_precision(@invoice.line_items.sum { |i| i.price * i.quantity }, precision: 2, delimiter: ",") %></h4>
  </div>

  <!-- Actions -->
  <div class="d-flex justify-content-between">
    <%= link_to "Back to Invoices", invoices_path, class: "btn btn-outline-secondary" %>
  </div>

</div>
