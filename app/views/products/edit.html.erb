<h1 class="display-6 fw-bold mb-4">Edit Product</h1>

<div class="card shadow-sm rounded-4 border-0">
  <div class="card-body">
    <% if @product.errors.any? %>
      <div class="alert alert-danger">
        <h6 class="mb-2">Please fix the following:</h6>
        <ul class="mb-0 ps-3">
          <% @product.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with(model: @product, local: true) do |form| %>
      <div class="row">
        <div class="col-md-4 mb-3">
          <%= form.label :name, class: "form-label" %>
          <%= form.text_field :name, class: "form-control", required: true %>
        </div>
        <div class="col-md-4 mb-3">
          <%= form.label :category_id, "Category", class: "form-label" %>
          <%= form.collection_select :category_id, @categories, :id, :name,
                { prompt: "Select category" }, { class: "form-select", required: true } %>
        </div>
        <div class="col-md-2 mb-3">
          <%= form.label :price, class: "form-label" %>
          <%= form.number_field :price, step: 0.01, min: 0, class: "form-control", required: true %>
        </div>
        <div class="col-md-2 mb-3">
          <%= form.label :quantity, class: "form-label" %>
          <%= form.number_field :quantity, min: 0, class: "form-control", required: true %>
        </div>
        <div class="col-md-12 d-flex justify-content-between">
          <%= form.submit "Update", class: "btn btn-success" %>
          <%= link_to "Cancel", products_path, class: "btn btn-secondary" %>
        </div>
      </div>
    <% end %>
  </div>
</div>
